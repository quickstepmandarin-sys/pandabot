<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>QuickStep Mandarin - Chat & Learn</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Roboto', sans-serif; margin:0; padding:0; background: linear-gradient(to bottom, #f0f8ff, #ffffff); display:flex; flex-direction:column; align-items:center; }
    header { background: #0088cc; color:white; width:100%; padding:50px 20px; text-align:center; }
    header h1 { font-size: 3em; margin:0; }
    header p { font-size: 1.2em; margin:10px 0 0 0; }
    main { max-width:900px; width:100%; padding:20px; text-align:center; }

    .chat-container { border:2px solid #0088cc; border-radius:15px; background:white; padding:15px; margin:30px auto; max-width:600px; }
    .chat-box { height:300px; overflow-y:auto; border:1px solid #ccc; border-radius:10px; padding:10px; background:#f9f9f9; margin-bottom:10px; }
    .chat-bubble { padding:10px 15px; border-radius:15px; margin:5px 0; max-width:80%; display:inline-block; }
    .user { background:#0088cc; color:white; align-self:flex-end; float:right; }
    .bot { background:#e0e0e0; color:#333; align-self:flex-start; float:left; }

    .input-box { display:flex; }
    .input-box input { flex:1; padding:12px; border-radius:5px 0 0 5px; border:1px solid #ccc; font-size:16px; }
    .input-box button { padding:12px 20px; border:none; background:#0088cc; color:white; font-weight:bold; cursor:pointer; border-radius:0 5px 5px 0; font-size:16px; }
    .input-box button:hover { background:#006699; }

    .books, .support, .reviews { margin:40px 0; }
    .books a, .support a, .reviews a { display:inline-block; margin:10px; padding:15px 30px; border-radius:10px; text-decoration:none; font-weight:bold; color:white; transition: transform 0.2s; }
    .books a { background:#ff6600; }
    .books a:hover { background:#cc5200; transform: scale(1.05); }
    .reviews a { background:#28a745; }
    .reviews a:hover { background:#1e7e34; transform: scale(1.05); }
    .support a { background:#ff4f19; }
    .support a:hover { background:#cc3d15; transform: scale(1.05); }

    footer { margin-top:50px; padding:20px; font-size:16px; color:#333; text-align:center; }

    /* Clear floats */
    .chat-box::after { content:""; display:block; clear:both; }
  </style>
</head>
<body>
  <header>
    <h1>QuickStep Mandarin</h1>
    <p>Chat with our beginner-friendly bot & learn Chinese the fun way!</p>
  </header>

  <main>
    <div class="chat-container">
      <div class="chat-box" id="chat-box"></div>
      <div class="input-box">
        <input type="text" id="user-message" placeholder="Type your message...">
        <button onclick="sendMessage()">Send</button>
      </div>
    </div>

    <div class="books">
      <h2>ðŸ“š Check Out My Books!</h2>
      <a href="https://www.amazon.com/dp/B0D9QDB6W7" target="_blank">Book 1</a>
      <a href="https://www.amazon.com/dp/B0FRMKYK2V" target="_blank">Book 2</a>
    </div>

    <div class="reviews">
      <h2>ðŸŒŸ Leave a Review!</h2>
      <p>Your review helps other learners discover the books!</p>
      <a href="https://www.amazon.com/review/create-review/?asin=B0D9QDB6W7" target="_blank">Review Book 1</a>
      <a href="https://www.amazon.com/review/create-review/?asin=B0FRMKYK2V" target="_blank">Review Book 2</a>
    </div>

    <div class="support">
      <h2>â˜• Support My Work!</h2>
      <a href="https://buymeacoffee.com/quickstepmandarin" target="_blank">Buy Me a Coffee</a>
    </div>
  </main>

  <footer>
    Chat with the bot, explore the books, leave a review, and start your language journey today!<br>
    Â© 2025 QuickStep Mandarin
  </footer>

  <script>
    const chatBox = document.getElementById('chat-box');

    // Your Cloudflare Worker URL - deploy the Worker below
    const WORKER_URL = "https://gamelinearbot.workers.dev";

    function appendMessage(sender, text, type) {
      const p = document.createElement('div');
      p.className = 'chat-bubble ' + type;
      p.innerHTML = `<strong>${sender}:</strong> ${text}`;
      chatBox.appendChild(p);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    async function sendMessage() {
      const input = document.getElementById('user-message');
      const message = input.value.trim();
      if (!message) return;
      appendMessage('You', message, 'user');
      input.value = '';

      try {
        const res = await fetch(WORKER_URL, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({
            message,
            chatId: 8345128605 // Your Telegram bot chat ID
          })
        });
        const data = await res.json();
        appendMessage('Bot', data.reply, 'bot');
      } catch(err) {
        appendMessage('Bot', 'Error connecting to server.', 'bot');
      }
    }
  </script>
</body>
</html>
