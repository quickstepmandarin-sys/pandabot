<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chat & Learn with Our Bot!</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Roboto', sans-serif; background: #f0f8ff; margin:0; padding:0; display:flex; flex-direction:column; align-items:center; }
    header { background: #0088cc; color:white; padding:40px; width:100%; text-align:center; }
    header h1 { margin:0; font-size:2.5em; }
    main { max-width:800px; width:100%; padding:20px; text-align:center; }
    .chat-box { border:1px solid #ccc; border-radius:10px; padding:10px; height:300px; overflow-y:auto; background:white; margin-bottom:10px; }
    .input-box { display:flex; margin-bottom:20px; }
    .input-box input { flex:1; padding:10px; border-radius:5px 0 0 5px; border:1px solid #ccc; }
    .input-box button { padding:10px 20px; border:none; background:#0088cc; color:white; cursor:pointer; border-radius:0 5px 5px 0; }
    .books, .support { margin:30px 0; }
    .books a, .support a { display:inline-block; margin:10px; padding:15px 25px; border-radius:8px; text-decoration:none; color:white; font-weight:bold; }
    .books a { background:#ff6600; }
    .books a:hover { background:#cc5200; }
    .support a { background:#ff4f19; }
    .support a:hover { background:#cc3d15; }
    footer { margin-top:50px; padding:20px; font-size:16px; color:#333; text-align:center; }
  </style>
</head>
<body>
  <header>
    <h1>Chat & Learn Chinese!</h1>
    <p>Beginner-friendly bot: mostly English, with Chinese words sprinkled in</p>
  </header>
  <main>
    <div class="chat-box" id="chat-box"></div>
    <div class="input-box">
      <input type="text" id="user-message" placeholder="Type your message...">
      <button onclick="sendMessage()">Send</button>
    </div>

    <div class="books">
      <h2>Check Out My Books!</h2>
      <a href="https://www.amazon.com/dp/B0D9QDB6W7" target="_blank">ðŸ“– Book 1</a>
      <a href="https://www.amazon.com/dp/B0FRMKYK2V" target="_blank">ðŸ“– Book 2</a>
    </div>

    <div class="support">
      <h2>Support My Work!</h2>
      <a href="https://buymeacoffee.com/quickstepmandarin" target="_blank">â˜• Buy Me a Coffee</a>
    </div>
  </main>
  <footer>
    Chat with the bot, explore the books, support me, and start your language journey today!<br>
    Â© 2025 QuickStep Mandarin
  </footer>

  <script>
    const chatBox = document.getElementById('chat-box');

    function appendMessage(sender, text) {
      const p = document.createElement('p');
      p.innerHTML = `<strong>${sender}:</strong> ${text}`;
      chatBox.appendChild(p);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    async function sendMessage() {
      const input = document.getElementById('user-message');
      const message = input.value.trim();
      if (!message) return;
      appendMessage('You', message);
      input.value = '';

      try {
        const res = await fetch('http://localhost:3000/send', {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify({ message, chatId:12345 }) // temp chatId for testing
        });
        const data = await res.json();
        appendMessage('Bot', data.reply);
      } catch(err) {
        appendMessage('Bot', 'Error connecting to server.');
      }
    }
  </script>
</body>
</html>


